import{_ as j}from"./DnsWE0_4.js";import{g as C,j as B,k as A,z as i,m as u,l as z,c as x,a as t,A as S,b as m,t as n,q as o,B as V,w as g,p as L,s as D,T as H,o as c}from"./DDPV8dZD.js";import{u as N}from"./FpedhT-1.js";const P={class:"min-h-screen pb-20"},$={class:"bg-gradient-to-b from-[#2d5a5a] to-[#3d7a7a] pt-6 pb-24 px-4"},E={class:"flex items-center justify-between mb-4"},I={class:"px-4 -mt-20"},R={class:"bg-gradient-to-br from-[#3d7a7a] to-[#2d6a6a] rounded-2xl p-5 shadow-lg mb-4 animate-fade-in"},T={class:"text-white/70 text-sm"},q={class:"text-2xl font-bold text-white mb-3"},K={class:"flex items-center gap-2 text-white/80 text-sm mb-1"},U={class:"flex items-center gap-2 text-white/80 text-sm"},F={class:"bg-white rounded-2xl shadow-card p-5 mb-4 animate-slide-up",style:{"animation-delay":"0.1s"}},G={class:"flex items-center justify-between mb-4"},J={class:"grid grid-cols-2 gap-3"},O={class:"bg-green-50 rounded-xl p-4 text-center border border-green-100"},Q={class:"text-xl font-bold text-green-700 mt-1"},W={class:"bg-orange-50 rounded-xl p-4 text-center border border-orange-100"},X={class:"text-xl font-bold text-orange-700 mt-1"},Y={class:"grid grid-cols-2 gap-3 mb-4"},Z={class:"bg-white rounded-2xl p-6 w-full max-w-sm animate-slide-up"},tt={class:"flex gap-3"},at=C({__name:"dashboard",setup(et){const p=B(),b=N(),f=A(),r=i(()=>p.member),l=u(!1),a=u(null),h=u(!0),v=i(()=>{const s=new Date().getHours();return s<12?"Selamat Pagi":s<15?"Selamat Siang":s<18?"Selamat Sore":"Selamat Malam"}),k=i(()=>{const s={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date().toLocaleDateString("id-ID",s)}),y=i(()=>{const s=a.value?.status;if(!s)return"badge badge-danger";switch(s){case"hadir":return"badge badge-success";case"izin":case"sakit":return"badge badge-warning";case"cuti":return"badge badge-info";default:return"badge badge-danger"}}),_=async()=>{try{const s=await b.getLastAbsensi();s.success&&s.data&&(a.value=s.data.absensi)}catch(s){console.error("Error fetching last absensi:",s)}finally{h.value=!1}},M=async()=>{await b.logout(),f.push("/login")};return z(()=>{_()}),(s,e)=>{const d=j;return c(),x("div",P,[t("div",$,[t("div",E,[e[4]||(e[4]=t("h1",{class:"text-xl font-bold text-white"},"Dashboard",-1)),t("button",{onClick:e[0]||(e[0]=w=>l.value=!0),class:"text-white/80 hover:text-white transition-colors"},[...e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})],-1)])])])]),t("div",I,[t("div",R,[t("p",T,n(o(v)),1),t("h2",q,n(o(r)?.name||"User"),1),t("div",K,[e[5]||(e[5]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})],-1)),t("span",null,n(o(r)?.no_karyawan||"-")+" â€¢ "+n(o(r)?.posisi||o(r)?.instansi?.nama||"-"),1)]),t("div",U,[e[6]||(e[6]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t("span",null,n(o(k)),1)])]),t("div",F,[t("div",G,[e[7]||(e[7]=t("h3",{class:"font-bold text-gray-800"},"Absensi Hari Ini",-1)),t("span",{class:V(o(y))},n(o(a)?.status_label||"Belum Absen"),3)]),t("div",J,[t("div",O,[e[8]||(e[8]=t("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})])],-1)),e[9]||(e[9]=t("p",{class:"text-green-600 font-medium text-sm"},"Masuk",-1)),t("p",Q,n(o(a)?.jam_masuk||"--:--"),1)]),t("div",W,[e[10]||(e[10]=t("div",{class:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})])],-1)),e[11]||(e[11]=t("p",{class:"text-orange-600 font-medium text-sm"},"Pulang",-1)),t("p",X,n(o(a)?.jam_pulang||"--:--"),1)])])]),e[15]||(e[15]=t("h3",{class:"font-bold text-gray-800 mb-3"},"Aksi Cepat",-1)),t("div",Y,[m(d,{to:"/absensi",class:"action-card bg-green-50 border border-green-100 animate-slide-up",style:{"animation-delay":"0.2s"}},{default:g(()=>[...e[12]||(e[12]=[t("div",{class:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"})])],-1),t("span",{class:"text-green-700 font-semibold"},"Absensi",-1)])]),_:1}),m(d,{to:"/riwayat",class:"action-card bg-blue-50 border border-blue-100 animate-slide-up",style:{"animation-delay":"0.25s"}},{default:g(()=>[...e[13]||(e[13]=[t("div",{class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),t("span",{class:"text-blue-700 font-semibold"},"Riwayat",-1)])]),_:1})]),m(d,{to:"/profil",class:"action-card bg-amber-50 border border-amber-100 animate-slide-up",style:{"animation-delay":"0.3s"}},{default:g(()=>[...e[14]||(e[14]=[t("div",{class:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),t("span",{class:"text-amber-700 font-semibold"},"Profil",-1)])]),_:1})]),(c(),S(H,{to:"body"},[o(l)?(c(),x("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e[2]||(e[2]=D(w=>l.value=!1,["self"]))},[t("div",Z,[e[16]||(e[16]=t("h3",{class:"text-lg font-bold text-gray-800 mb-2"},"Konfirmasi Logout",-1)),e[17]||(e[17]=t("p",{class:"text-gray-600 mb-6"},"Apakah Anda yakin ingin keluar dari aplikasi?",-1)),t("div",tt,[t("button",{onClick:e[1]||(e[1]=w=>l.value=!1),class:"flex-1 btn-secondary"},"Batal"),t("button",{onClick:M,class:"flex-1 bg-red-500 text-white font-semibold py-3 px-6 rounded-xl hover:bg-red-600 transition-colors"},"Logout")])])])):L("",!0)]))])}}});export{at as default};
